<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1arjqtx" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.12.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.15.0">
  <bpmn:collaboration id="Collaboration_034zgr6">
    <bpmn:participant id="Participant_13aiefd" name="Bestellung anlegen und Auftragsbestätigung" processRef="bestellungBestaetigung_ID" />
    <bpmn:participant id="Participant_1f9y68o" name="Kunde" />
    <bpmn:participant id="Participant_1aam3h7" name="Lieferant" />
    <bpmn:messageFlow id="Flow_01wwlvy" name="Kunden Bestellbestätigung" sourceRef="Activity_1iazsl0" targetRef="Participant_1f9y68o" />
    <bpmn:messageFlow id="Flow_07644r9" name="Auftragsbestätigung mit Liefertermin" sourceRef="Activity_0xwy21a" targetRef="Participant_1f9y68o" />
    <bpmn:messageFlow id="Flow_0mtaprb" name="Bestellung des Kunden" sourceRef="Participant_1f9y68o" targetRef="Event_1gkjh7g" />
    <bpmn:messageFlow id="Flow_0ucu51g" name="Bestellung an Lieferanten" sourceRef="Activity_156yswa" targetRef="Participant_1aam3h7" />
    <bpmn:messageFlow id="Flow_1m8hr0v" name="Antwort des Lieferanten auf Bestellung" sourceRef="Participant_1aam3h7" targetRef="Activity_156yswa" />
  </bpmn:collaboration>
  <bpmn:process id="bestellungBestaetigung_ID" isExecutable="true">
    <bpmn:laneSet id="LaneSet_00hahfk">
      <bpmn:lane id="Lane_0q3scv1" name="Vertrieb">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1a9qv1p</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0xwy21a</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1iazsl0</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1rxrivh</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0a4v9u9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1gkjh7g</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0fiq5hw</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0vgmsk2</bpmn:flowNodeRef>
        <bpmn:childLaneSet id="LaneSet_10dkakt" />
      </bpmn:lane>
      <bpmn:lane id="Lane_1q06hst" name="Einkauf">
        <bpmn:flowNodeRef>Activity_156yswa</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_0wl32qf" sourceRef="StartEvent_1" targetRef="Event_1gkjh7g" />
    <bpmn:sequenceFlow id="Flow_0jeu7k6" sourceRef="Activity_0a4v9u9" targetRef="Activity_1rxrivh" />
    <bpmn:sequenceFlow id="Flow_1hjpc4p" sourceRef="Activity_1rxrivh" targetRef="Activity_1iazsl0" />
    <bpmn:sequenceFlow id="Flow_13aodpe" sourceRef="Activity_156yswa" targetRef="Activity_0fiq5hw" />
    <bpmn:sequenceFlow id="Flow_1ahpmk7" sourceRef="Activity_1iazsl0" targetRef="Activity_156yswa" />
    <bpmn:sequenceFlow id="Flow_0ckgwi2" sourceRef="Activity_0vgmsk2" targetRef="Activity_0xwy21a" />
    <bpmn:sequenceFlow id="Flow_1jxumvd" sourceRef="Activity_0xwy21a" targetRef="Event_1a9qv1p" />
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_0wl32qf</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="Event_1a9qv1p">
      <bpmn:incoming>Flow_1jxumvd</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sendTask id="Activity_0xwy21a" name="Auftragsbetätigung senden" camunda:class="edu.thi.druckfabrik.KundenAuftragsbestaetigungSenden">
      <bpmn:incoming>Flow_0ckgwi2</bpmn:incoming>
      <bpmn:outgoing>Flow_1jxumvd</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:callActivity id="Activity_156yswa" name="Ressourcenverfügbarkeit prüfen Unterprozess" calledElement="ressourcenPruefungsprozess_ID">
      <bpmn:extensionElements>
        <camunda:in source="bestellung" target="bestellung" />
        <camunda:out sourceExpression="${ressourcenVorhandenTermin}" target="ressourcenVorhandenTermin" />
        <camunda:in source="prototyp" target="${prototyp}" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ahpmk7</bpmn:incoming>
      <bpmn:outgoing>Flow_13aodpe</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sendTask id="Activity_1iazsl0" name="Bestellbestätigung an Kunden senden" camunda:class="edu.thi.druckfabrik.BestellbestaetigungSenden">
      <bpmn:incoming>Flow_1hjpc4p</bpmn:incoming>
      <bpmn:outgoing>Flow_1ahpmk7</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:serviceTask id="Activity_1rxrivh" name="Bestellung anlegen" camunda:class="edu.thi.druckfabrik.servicetasks.BestellungAnlegen">
      <bpmn:incoming>Flow_0jeu7k6</bpmn:incoming>
      <bpmn:outgoing>Flow_1hjpc4p</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_0a4v9u9" name="Nachricht der Bestellung prüfen und Angaben pflegen" camunda:assignee="kermit">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="angebotID" label="Bezogen auf AnfrageID:" type="string" defaultValue="${angebotID}" />
          <camunda:formField id="prototypID" label="Bezogen auf PrototypID: " type="string" defaultValue="${prototypID}" />
          <camunda:formField id="druckanzahl" label="Anzahl benötigt:" type="long" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_04bq3lb</bpmn:incoming>
      <bpmn:outgoing>Flow_0jeu7k6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_04bq3lb" sourceRef="Event_1gkjh7g" targetRef="Activity_0a4v9u9" />
    <bpmn:intermediateCatchEvent id="Event_1gkjh7g" name="Bestellung des Kunden eingetroffen">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="corrKey">${angebot.angebotID}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0wl32qf</bpmn:incoming>
      <bpmn:outgoing>Flow_04bq3lb</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1equ7sg" messageRef="Message_0uifhuh" />
    </bpmn:intermediateCatchEvent>
    <bpmn:userTask id="Activity_0fiq5hw" name="Liefertermin bestimmen" camunda:assignee="kermit">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="ressourcenVorhandenTermin" label="Die Ressourcen sind an folgendem Tag Vorhanden:" type="string" defaultValue="${ressourcenVorhandenTermin}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="liefertermin" label="Liefertermin für Kunden angeben:" type="date" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_13aodpe</bpmn:incoming>
      <bpmn:outgoing>Flow_0k4tqjr</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0k4tqjr" sourceRef="Activity_0fiq5hw" targetRef="Activity_0vgmsk2" />
    <bpmn:serviceTask id="Activity_0vgmsk2" name="Auftrag anlegen" camunda:class="edu.thi.druckfabrik.servicetasks.AuftragAnlegen">
      <bpmn:incoming>Flow_0k4tqjr</bpmn:incoming>
      <bpmn:outgoing>Flow_0ckgwi2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:textAnnotation id="TextAnnotation_0fepemf">
      <bpmn:text>Die Ermittlung des Liefertermins erfolgt auf Basis des Datums der Ressourcenverfügbarkeit und einem Blick des Mitarbeiters in den "Produktionskalender" und auf Expertise des Mitarbeiters</bpmn:text>
    </bpmn:textAnnotation>
  </bpmn:process>
  <bpmn:escalation id="Escalation_0cuhly5" name="Escalation_0cro9lr" escalationCode="DeadGoat" />
  <bpmn:message id="Message_0uifhuh" name="Kundenbestellung" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_034zgr6">
      <bpmndi:BPMNShape id="Participant_13aiefd_di" bpmnElement="Participant_13aiefd" isHorizontal="true">
        <dc:Bounds x="129" y="379" width="2011" height="651" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1q06hst_di" bpmnElement="Lane_1q06hst" isHorizontal="true">
        <dc:Bounds x="159" y="810" width="1981" height="220" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0q3scv1_di" bpmnElement="Lane_0q3scv1" isHorizontal="true">
        <dc:Bounds x="159" y="379" width="1981" height="431" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0k4tqjr_di" bpmnElement="Flow_0k4tqjr">
        <di:waypoint x="1290" y="549" />
        <di:waypoint x="1480" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04bq3lb_di" bpmnElement="Flow_04bq3lb">
        <di:waypoint x="338" y="549" />
        <di:waypoint x="393" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jxumvd_di" bpmnElement="Flow_1jxumvd">
        <di:waypoint x="1930" y="549" />
        <di:waypoint x="1992" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ckgwi2_di" bpmnElement="Flow_0ckgwi2">
        <di:waypoint x="1580" y="549" />
        <di:waypoint x="1830" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ahpmk7_di" bpmnElement="Flow_1ahpmk7">
        <di:waypoint x="810" y="549" />
        <di:waypoint x="842" y="549" />
        <di:waypoint x="842" y="880" />
        <di:waypoint x="900" y="880" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13aodpe_di" bpmnElement="Flow_13aodpe">
        <di:waypoint x="1000" y="880" />
        <di:waypoint x="1050" y="880" />
        <di:waypoint x="1050" y="549" />
        <di:waypoint x="1190" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hjpc4p_di" bpmnElement="Flow_1hjpc4p">
        <di:waypoint x="653" y="549" />
        <di:waypoint x="710" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0jeu7k6_di" bpmnElement="Flow_0jeu7k6">
        <di:waypoint x="493" y="549" />
        <di:waypoint x="553" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wl32qf_di" bpmnElement="Flow_0wl32qf">
        <di:waypoint x="251" y="549" />
        <di:waypoint x="302" y="549" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0k5sgqv_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="215" y="531" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1a9qv1p_di" bpmnElement="Event_1a9qv1p">
        <dc:Bounds x="1992" y="531" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ff18ic_di" bpmnElement="Activity_0xwy21a">
        <dc:Bounds x="1830" y="509" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1b583hz_di" bpmnElement="Activity_156yswa">
        <dc:Bounds x="900" y="840" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1v1lc8o_di" bpmnElement="Activity_1iazsl0">
        <dc:Bounds x="710" y="509" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0l7w2zh_di" bpmnElement="Activity_1rxrivh">
        <dc:Bounds x="553" y="509" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_082z2nw_di" bpmnElement="Activity_0a4v9u9">
        <dc:Bounds x="393" y="509" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ou6unw_di" bpmnElement="Event_1gkjh7g">
        <dc:Bounds x="302" y="531" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="284" y="574" width="73" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fiq5hw_di" bpmnElement="Activity_0fiq5hw">
        <dc:Bounds x="1190" y="509" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0drtiyd_di" bpmnElement="Activity_0vgmsk2">
        <dc:Bounds x="1480" y="509" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0fepemf_di" bpmnElement="TextAnnotation_0fepemf">
        <dc:Bounds x="1510" y="390" width="270" height="84" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0a7ubrq_di" bpmnElement="Participant_1f9y68o" isHorizontal="true">
        <dc:Bounds x="170" y="80" width="2040" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1aam3h7_di" bpmnElement="Participant_1aam3h7" isHorizontal="true">
        <dc:Bounds x="660" y="1210" width="600" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_01wwlvy_di" bpmnElement="Flow_01wwlvy">
        <di:waypoint x="770" y="509" />
        <di:waypoint x="770" y="140" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="678" y="246" width="85" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07644r9_di" bpmnElement="Flow_07644r9">
        <di:waypoint x="1880" y="509" />
        <di:waypoint x="1880" y="140" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1878" y="260" width="86" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mtaprb_di" bpmnElement="Flow_0mtaprb">
        <di:waypoint x="320" y="140" />
        <di:waypoint x="320" y="531" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="323" y="252" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ucu51g_di" bpmnElement="Flow_0ucu51g">
        <di:waypoint x="920" y="920" />
        <di:waypoint x="920" y="1210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="836" y="1062" width="67" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m8hr0v_di" bpmnElement="Flow_1m8hr0v">
        <di:waypoint x="980" y="1210" />
        <di:waypoint x="980" y="920" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="993" y="1120" width="74" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
